<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="../../Autocoders/schema/ISF/topology_schema.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>
<assembly name = "Arduino">

    <!-- Immport component declarations -->

   <import_component_type>Svc/ActiveRateGroup/ActiveRateGroupComponentAi.xml</import_component_type>
   <import_component_type>Svc/Time/TimeComponentAi.xml</import_component_type>
   <import_component_type>Svc/RateGroupDriver/RateGroupDriverComponentAi.xml</import_component_type>
   <import_component_type>examples/ArduinoGpsTracker/HardwareRateDriver/HardwareRateDriverComponentAi.xml</import_component_type>
   <import_component_type>examples/ArduinoGpsTracker/LedBlinker/LedBlinkerComponentAi.xml</import_component_type>

   <!-- Declare component instances - must match names in Components.hpp -->

   <!-- instance namespace="Svc" name="fatalHandler" type="FatalHandler" base_id="100"  base_id_window="20" /-->
   
   <instance namespace="Svc" name="rateGroup10HzComp" type="ActiveRateGroup" base_id="200"  base_id_window="20" />
   
   <instance namespace="Svc" name="rateGroupDriverComp" type="RateGroupDriver" base_id="1700"  base_id_window="20" />

   <instance namespace="Arduino" name="ledBlinker" type="LedBlinker" base_id="1900"  base_id_window="20" />

   <instance namespace="Arduino" name="hardwareRateDriver" type="HardwareRateDriver" base_id="2000"  base_id_window="20" />

   <!--  Choose one of the following -->


   <!-- Command Registration/Dispatch/Reply Connections -->
   
   <!-- Connect the Hardware Driver to the rate group driver -->
   <connection name = "hardwareDriveConn">
       <source component = "hardwareRateDriver" port = "CycleOut" type = "Cycle" num = "0"/>
       <target component = "rateGroupDriverComp" port = "CycleIn" type = "Cycle" num = "0"/>
   </connection>

   <!-- 10Hz Rate Group -->
   <connection name = "rateGroupDriverComp10Hz">
       <source component = "rateGroupDriverComp" port = "CycleOut" type = "Cycle" num = "0"/>
       <target component = "rateGroup10HzComp" port = "CycleIn" type = "Cycle" num = "0"/>
   </connection>
   
   <connection name = "ledBlinkerRg">
       <source component = "rateGroup10HzComp" port = "RateGroupMemberOut" type = "Sched" num = "1"/>
       <target component = "ledBlinker" port = "schedIn" type = "Sched" num = "0"/>
   </connection>
   
</assembly>
